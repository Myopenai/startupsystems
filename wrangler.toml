name = "startupsystems"
main = "workers/index.ts"
compatibility_date = "2024-01-01"
compatibility_flags = ["nodejs_compat"]

[env.production]
name = "startupsystems-prod"
route = { pattern = "startupsystems.com/*", zone_name = "startupsystems.com" }

[env.staging]
name = "startupsystems-staging"

[vars]
ENVIRONMENT = "development"
JWT_SECRET = "gcc-secret-key-change-in-production-2025"

# Cloudflare D1 Database binding
[[d1_databases]]
binding = "DB"
database_name = "startupsystems-db"
database_id = "" # Set this after creating the database

[build]
command = "npm run build:workers"

[[rules]]
type = "Text"
globs = ["**/*.ts", "**/*.js"]
fallthrough = true
